<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Path coefficients with minimal multicollinearity — path_coeff • METAAB</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Path coefficients with minimal multicollinearity — path_coeff" />

<meta property="og:description" content="Estimates of direct and indirect effects. An algorithm to select a set of predictors with minimal multicollinearity and high explanatory power is implemented." />

<meta property="og:image" content="/logo.png" />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">METAAB</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
    Home
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Examples
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/vignettes_CROSS-VALIDATION.html">Cross-validation procedure</a>
    </li>
    <li>
      <a href="../articles/vignettes_AMMI.html">AMMI</a>
    </li>
    <li>
      <a href="../articles/vignettes_BLUP.html">BLUP</a>
    </li>
    <li>
      <a href="../articles/vignettes_INDEXES.html">Multivariate indexes</a>
    </li>
    <li>
      <a href="../articles/vignettes_BIOMETRY.html">Biometry</a>
    </li>
    <li>
      <a href="../articles/vignettes_HELPER.html">Helper</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    More
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../CODE_OF_CONDUCT.html">Code of Conduct</a>
    </li>
    <li>
      <a href="../news/index.html">News</a>
    </li>
    <li>
      <a href="../LICENSE.html">Licence</a>
    </li>
  </ul>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://www.researchgate.net/profile/Tiago_Olivoto2">ResearchGate</a>
</li>
<li>
  <a href="https://www.mendeley.com/profiles/tiago-olivoto/">Mendeley</a>
</li>
<li>
  <a href="https://github.com/TiagoOlivoto">Github</a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Path coefficients with minimal multicollinearity</h1>
    
    <div class="hidden name"><code>path_coeff.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Estimates of direct and indirect effects. An algorithm to select a set of predictors with minimal multicollinearity and high explanatory power is implemented.</p>
    
    </div>

    <pre class="usage"><span class='fu'>path_coeff</span>(<span class='no'>.data</span>, <span class='no'>resp</span>, <span class='kw'>pred</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>exclude</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
           <span class='kw'>correction</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>knumber</span> <span class='kw'>=</span> <span class='fl'>50</span>, <span class='kw'>brutstep</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
           <span class='kw'>maxvif</span> <span class='kw'>=</span> <span class='fl'>10</span>, <span class='kw'>missingval</span> <span class='kw'>=</span> <span class='st'>"pairwise.complete.obs"</span>,
           <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>.data</th>
      <td><p>The data. Must be a dataframe or an object of class <code>group_factors</code>.</p></td>
    </tr>
    <tr>
      <th>resp</th>
      <td><p>The dependent variable.</p></td>
    </tr>
    <tr>
      <th>pred</th>
      <td><p>The predictor variables, set to <code>NULL</code>, i.e., the predictor variables are all the numeric variables in the data except that in <code>resp</code>.</p></td>
    </tr>
    <tr>
      <th>exclude</th>
      <td><p>Logical argument, set to false. If <code>exclude = TRUE</code>, then the variables in <code>pred</code> are deleted from the data, and the analysis will use as predictor those that remained, except that in <code>resp</code>.</p></td>
    </tr>
    <tr>
      <th>correction</th>
      <td><p>Set to <code>NULL</code>. A correction value (k) that will be added into the diagonal elements of the X'X matrix aiming at reducing the multicollinearity problems (Olivoto et al., 2017). Also as known as ridge regression.</p></td>
    </tr>
    <tr>
      <th>knumber</th>
      <td><p>When <code>correction = NULL</code>, a plot showing the values of direct effects in a set of different k values (0-1) is produced. <code>knumber</code> is the number of k values used in the range of 0 to 1.</p></td>
    </tr>
    <tr>
      <th>brutstep</th>
      <td><p>Logical argument, set to <code>FALSE</code>. If true, then an algorithm will select a subset of variables with minimal multicollinearity and fit a set of possible models. See the <b>Details</b> section for more information.</p></td>
    </tr>
    <tr>
      <th>maxvif</th>
      <td><p>The maximum value for the Variance Inflaction Factor (cut point) that will be accepted. See the <b>Details</b> section for more information.</p></td>
    </tr>
    <tr>
      <th>missingval</th>
      <td><p>How to deal with missing values. For more information, please see <code><a href='https://www.rdocumentation.org/packages/stats/topics/cor'>?cor</a></code>.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>If <code>verbose = TRUE</code> then some results are shown in the console.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    

<dt>Corr.x</dt><dd><p>A correlation matrix between the predictor variables.</p></dd>

<dt>Corr.y</dt><dd><p>A vector of correlations between each predictor variable with the dependent variable.</p></dd>

<dt>Coefficients</dt><dd><p>The path coefficients. Direct effects are the diagonal elements, and the indirect effects those in the off-diagonal elements (column)</p></dd>

<dt>Eigen</dt><dd><p>Eigenvectors and eigenvalues of the <code>Corr.x.</code></p></dd>

<dt>VIF</dt><dd><p>The Variance Inflaction Factors.</p></dd>

<dt>plot</dt><dd><p>A ggplot2-based graphic showing the direct effects in 21 different k values..</p></dd>

<dt>Predictors</dt><dd><p>The predictor variables used in the model.</p></dd>

<dt>CN</dt><dd><p>The Condition Number, i.e., the ratio between the highest and lowest eigenvalue.</p></dd>

<dt>Det</dt><dd><p>The matrix determinant of the <code>Corr.x.</code>.</p></dd>

<dt>R2</dt><dd><p>The coefficient of determination of the model.</p></dd>

<dt>Residual</dt><dd><p>The residual effect of the model.</p></dd>

<dt>Response</dt><dd><p>The response variable.</p></dd>

<dt>weightvar</dt><dd><p>The order of the predictor variables with the higest weigth (highest eigenvector) in the lowest eigenvalue.</p></dd>


    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>When <code>brutstep = TRUE</code>, first, the algorithm will select a set of predictors with minimal multicollinearity. The selection is based on the variance inflation factor (VIF). An iterative process is performed until the maximum VIF observed is less than <code>maxvif</code>. The variables selected in this iterative process are then used in a series of stepwise-based regressions. The first model is fitted and p-1 predictor variables are retained (p is the number of variables selected in the iterative process. The second model adjusts a regression considering p-2 selected variables, and so on until the last model, which considers only two variables. Three objects are created. <code>Summary</code>, with the process summary, <code>Models</code>, containing the aforementioned values for all the adjusted models; and <code>Selectedpred</code>, a vector with the name of the selected variables in the iterative process.</p>
    
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Olivoto, T., V.Q. Souza, M. Nardino, I.R. Carvalho, M. Ferrari, A.J. Pelegrin, V.J. Szareski, and D. Schmidt. 2017. Multicollinearity in path analysis: a simple method to reduce its effects. Agron. J. 109:131-142. doi:10.2134/agronj2016.04.0196. <a href='https://dl.sciencesocieties.org/publications/aj/abstracts/109/1/131'>10.2134/agronj2016.04.0196</a>.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># Using the correlation matrix</span>
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/library'>library</a></span>(<span class='no'>METAAB</span>)
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/library'>library</a></span>(<span class='no'>dplyr</span>)

<span class='no'>pcoeff</span> <span class='kw'>=</span> <span class='no'>data_ge2</span> <span class='kw'>%&gt;%</span>
         <span class='fu'>path_coeff</span>(<span class='kw'>resp</span> <span class='kw'>=</span> <span class='no'>KW</span>, <span class='kw'>pred</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"TKW"</span>, <span class='st'>"NKE"</span>))</div><div class='output co'>#&gt; <span class='message'>The factors ENV GEN REP PLA where excluded to perform the analysis. If you want to perform an analysis for each level of a factor, use the function 'group_factors() before.' </span></div><div class='output co'>#&gt; Weak multicollinearity. 
#&gt; Condition Number = 1.181
#&gt; You will probably have path coefficients close to being unbiased. </div><div class='input'>
<span class='no'>pcoeff2</span> <span class='kw'>=</span> <span class='no'>data_ge2</span> <span class='kw'>%&gt;%</span>
         <span class='fu'>path_coeff</span>(<span class='kw'>resp</span> <span class='kw'>=</span> <span class='no'>KW</span>,
                    <span class='kw'>pred</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"PH"</span>, <span class='st'>"EH"</span>, <span class='st'>"NKE"</span>, <span class='st'>"TKW"</span>),
                    <span class='kw'>exclude</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</div><div class='output co'>#&gt; <span class='message'>The factors ENV GEN REP PLA where excluded to perform the analysis. If you want to perform an analysis for each level of a factor, use the function 'group_factors() before.' </span></div><div class='output co'>#&gt; Severe multicollinearity. 
#&gt; Condition Number = 1757.354
#&gt; Please, consider using a correction factor, or use 'brutstep = TRUE'. </div><div class='input'>
<span class='no'>pcoeff3</span> <span class='kw'>=</span> <span class='no'>data_ge2</span> <span class='kw'>%&gt;%</span>
          <span class='fu'>path_coeff</span>(<span class='kw'>resp</span> <span class='kw'>=</span> <span class='no'>KW</span>,
                     <span class='kw'>brutstep</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
                     <span class='kw'>maxvif</span> <span class='kw'>=</span> <span class='fl'>5</span>)</div><div class='output co'>#&gt; <span class='message'>The factors ENV GEN REP PLA where excluded to perform the analysis. If you want to perform an analysis for each level of a factor, use the function 'group_factors() before.' </span></div><div class='output co'>#&gt; -------------------------------------------------------------------------- 
#&gt; The algorithm has selected a set of 9predictors with largest VIF = 3.374. 
#&gt; Selected predictors: EP PERK CDED PH NKR EL NR TKW ED 
#&gt; A forward stepwise-based selection procedure will fit 7 models. 
#&gt; -------------------------------------------------------------------------- 
#&gt; Adjusting the model 1 with 8 predictors (14.29% concluded)
#&gt; Adjusting the model 2 with 7 predictors (28.57% concluded)
#&gt; Adjusting the model 3 with 6 predictors (42.86% concluded)
#&gt; Adjusting the model 4 with 5 predictors (57.14% concluded)
#&gt; Adjusting the model 5 with 4 predictors (71.43% concluded)
#&gt; Adjusting the model 6 with 3 predictors (85.71% concluded)
#&gt; Adjusting the model 7 with 2 predictors (100% concluded)
#&gt; Done! 
#&gt; -------------------------------------------------------------------------- 
#&gt; Summary of the adjusted models 
#&gt; -------------------------------------------------------------------------- 
#&gt;     Model      AIC Numpred        CN Determinant        R2  Residual   maxVIF
#&gt; 2 Model 7 7077.035       2  1.836837  0.91298120 0.7769493 0.2230507 1.095313
#&gt; 3 Model 6 6779.019       3  3.542543  0.68262402 0.8481697 0.1518303 1.449957
#&gt; 4 Model 5 6686.519       4 10.287630  0.31386137 0.8654939 0.1345061 2.994049
#&gt; 5 Model 4 6613.968       5 13.213486  0.15897502 0.8777545 0.1222455 3.016821
#&gt; 6 Model 3 6564.740       6 13.609328  0.14204137 0.8855252 0.1144748 3.081659
#&gt; 7 Model 2 6551.198       7 16.079825  0.09829292 0.8877836 0.1122164 3.101736
#&gt; 8 Model 1 6551.346       8 17.062130  0.08371867 0.8880497 0.1119503 3.157106
#&gt; --------------------------------------------------------------------------</div><div class='input'>
<span class='no'>pcoeff4</span> <span class='kw'>=</span> <span class='no'>data_ge2</span> <span class='kw'>%&gt;%</span>
          <span class='fu'><a href='group_factors.html'>group_factors</a></span>(<span class='no'>ENV</span>) <span class='kw'>%&gt;%</span>
          <span class='fu'>path_coeff</span>(<span class='kw'>resp</span> <span class='kw'>=</span> <span class='no'>KW</span>)</div><div class='output co'>#&gt; <span class='message'>The factors GEN REP PLA where ignored. Use 'keep_factors = TRUE' to keep this columns in the grouped data. </span></div><div class='output co'>#&gt; 
#&gt; ----------------------------------------------------------------------------
#&gt; Level A1 
#&gt; ----------------------------------------------------------------------------
#&gt; Severe multicollinearity. 
#&gt; Condition Number = 3350.754
#&gt; Please, consider using a correction factor, or use 'brutstep = TRUE'. 
#&gt; 
#&gt; ----------------------------------------------------------------------------
#&gt; Level A2 
#&gt; ----------------------------------------------------------------------------
#&gt; Severe multicollinearity. 
#&gt; Condition Number = 1511.159
#&gt; Please, consider using a correction factor, or use 'brutstep = TRUE'. 
#&gt; 
#&gt; ----------------------------------------------------------------------------
#&gt; Level A3 
#&gt; ----------------------------------------------------------------------------
#&gt; Severe multicollinearity. 
#&gt; Condition Number = 3948.88
#&gt; Please, consider using a correction factor, or use 'brutstep = TRUE'. 
#&gt; 
#&gt; ----------------------------------------------------------------------------
#&gt; Level A4 
#&gt; ----------------------------------------------------------------------------
#&gt; Severe multicollinearity. 
#&gt; Condition Number = 4304.863
#&gt; Please, consider using a correction factor, or use 'brutstep = TRUE'. </div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#references">References</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    <p>Tiago Olivoto <a href='mailto:tiagoolivoto@gmail.com'>tiagoolivoto@gmail.com</a></p>
  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://www.researchgate.net/profile/Tiago_Olivoto2'>Tiago Olivoto</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

